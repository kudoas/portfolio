# Repository Guidelines

## Project Structure & Module Organization

- `src/`: Angular v21 app (standalone components). Key feature sample at `src/app/features/profile/timeline/` plus `src/environments/` for environment configs (keep secrets out), and `src/server/` for API routes.
- `public/`: Static assets served as-is.
- `dist/`: Build artifacts generated by Vite/Analog (not committed).
- Root configs: `vite.config.ts` (Vite/Analog + Vitest + Playwright), `tailwind.config.ts`, `tsconfig*.json`, `eslint.config.mjs`, `bun.lock`.

## Build, Test, and Development Commands (bun)

- Install deps: `bun install`
- Dev server: `bun run start` (ng serve via Vite/Analog)
- Build: `bun run build` â†’ outputs to `dist/client/`
- Watch build: `bun run watch`
- Lint: `bun run lint` (Angular ESLint)
- Format check/fix: `bun run format:check` / `bun run format` (Prettier)
- Unit tests: `bun run test`
- Browser tests: `VITEST_BROWSER=true bun run test` (Playwright, headless)

## Coding Style & Naming Conventions

- TypeScript, Tailwind CSS; 2-space indent, semicolons on, single quotes.
- Prefer Angular signals, standalone components, and built-in control flow (`@if`, `@for`, `@switch`).
- Component selectors use `app-` prefix; keep templates minimal and typed inputs/outputs.
- Run lint + format before commits to match project defaults.

## Testing Guidelines

- Framework: Vitest (jsdom) with optional Playwright browser runs.
- Coverage: Istanbul; includes `src/**/*.ts`, excludes `src/main.ts`. Use `bun run test -- --coverage` when touching logic-heavy code.
- Test files: `*.spec.ts` colocated under `src/`. Example: `src/app/features/profile/timeline/timeline.component.spec.ts`.
- For UI changes, attach before/after screenshots in PRs when possible.

## Commit & Pull Request Guidelines

- Commit messages: concise English summary with prefix (`feat:`, `fix:`, `chore:`) to mirror existing history.
- PRs should include: purpose, key changes, test commands/results, linked issues, and screenshots for UI changes.
- Pre-merge checklist: `bun run lint`, `bun run test`, and ensure Prettier-clean diffs. Document notable config or build changes in `README.md` if relevant.

## Security & Configuration Tips

- Never commit secrets; do not place credentials in `src/environments/*`. Inject via runtime env or deployment settings.
- Update `bun.lock` when adding/removing deps; avoid unused packages.
- Deployment target uses Nitro preset for Vercel (see `vite.config.ts`); align changes with that assumption.
